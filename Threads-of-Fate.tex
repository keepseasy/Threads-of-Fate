% !TEX options=--shell-escape
\documentclass[a4paper]{book}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\usepackage{cmap}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}

\usepackage[poster]{tcolorbox}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{multicol}
\usepackage{vwcol}

\usepackage{imakeidx}
\indexsetup{level=\subsection,toclevel=section,noclearpage}
\makeindex[title=Алфавитный перечень Трюков, name=tricks]
\makeindex[title=Алфавитный перечень Оружия, name=weapons]
\makeindex[title=Алфавитный перечень Атрибутов, name=attributes]
\makeindex[title=, name=powers]
\makeindex[title=Алфавитный перечень Существ, name=monsters]
\makeindex[title=Алфавитный перечень Архетипов, name=monster-templates]

\usepackage{pythontex}
\usepackage[hypertexnames=true]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black,
}

\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000

\input{trouble-check-blank}
\newcommand{\tbd}{\textcolor{orange}{\textbf{\textit{TBD}}}}
\newcommand{\err}{\textcolor{red}{\textbf{\textit{ERR}}}}

\newcommand{\earlyEnd}{
----> current stop <----
\end{document}
\endinput
}

\newcommand{\genAndGet}[3]{
%\pyc{import sys}
%\pyc{sys.stdout.reconfigure(encoding='utf-8')}
\pyc{baseName = "#1"}
\pyc{dataName = "#2"}
\pyc{form = "#3"}
\pyc{from scripts.genFromYaml import main}
\pyc{str = main(baseName,dataName,form)}
\py{str}
}

\begin{document}
%\tableofcontents
%\input{introduction}
\input{base-mechanics}
\earlyEnd
\input{hero-creation}
\input{money-talk}
\input{battles}
\input{social}

\ifx\islight\undefined
\input{leisure-and-travel}
\input{supernatural}
\input{monsters}
\fi
%\input{tips-to-master}
\end{document}
\endinput
%This is   a simple document\footnote{with a footnote}.
%discoveries in \underline{science} 
%\hypertarget{d6}{Определение инвариантного пространства}
%\hyperlink{d6}{смотреть здесь!}
